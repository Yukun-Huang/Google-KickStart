# B. Sherlock and the Bit Strings

### 描述

要求你给出一个满足K个约束的二进制字符串，因为这样的字符串可能有多个，要求输出按字典序排序的第P个。约束的形式为，Ai到Bi的范围内的‘1’的个数等于Ci.

### 分析

对于小数据集，Ai = Bi，于是直接能够得到二进制字符串的一部分的数值。接着，我们用P的二进制表示来补全剩下的空缺位置，即可解决小数据集。

对于大数据集，主要参考[这里](https://xiaozhuanlan.com/topic/2649305187)。

题目的约束里给了 Bi - Ai ≤ 15 这样的元素，也就是说，区间[Ai, Bi]的长度不超过16. 所以对于二进制字符串的位置i，我们只要知道它的前16位字符，就能判断它是否符合要求。我们可以枚举所有2^16种前缀，计算以这种前缀在i结尾的种类的个数(显然，前缀相同，种类数一定是相同的)，即计算dp[prf][i],在i位,包含i,前缀状态是prf的种类个数。

### 关键字

计数，字典序，状态压缩dp
