# B. Energy Stones

### 描述

给定N个能量石，每个能量石有参数Si, Ei和Li，分别代表吃掉该石头所需的时间（秒）、该石头包含的能量、以及每秒损失的能量值。当前开始吃某颗能量石时，你立刻获取了该石头的所有能量。当能量值降为0时，不再下降。问：你能取得的最大能量是多少。

### 分析

对于**小数据集**，所有的能量石的Si都一样，即吃掉任意一颗石头消耗的时间都一样。假设所有石头的能量都不会降至0，那么最优的解法就是按照每秒损失值Li从大到小的顺序去吃能量石。此外，我们观察到，当能量减为0时，就没有必要吃该能量石了。因此，原问题就可以转化为：选择去吃哪些能量石，而吃的顺序已经被决定了。我们发现这正好和0-1背包问题非常相似，用动态规划解决。

对于**大数据集**，大数据集里，Si不再等于Sj，因此我们需要修改一下排序方式，通过Si/Li来排序，注意Li=0的情况。其它步骤按照小数据集的做法不变。

注意到这一题为什么需要事先排序，也就是说它和0-1背包问题的区别在哪。对于背包问题，物品的价值是静态的，不会变化，因此总价值和放入物品的顺序无关。然而这题的能量石的能量会随时间减少，因此不同的吃的顺序会使最终的总能量不同，所以我们必须保证顺序已经是最优。

### 关键字

动态规划，0-1背包问题
